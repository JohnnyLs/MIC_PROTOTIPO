<div class="main-container">
  <!-- Barra lateral -->
  <div class="sidebar">
    <div class="sidebar-header">
      <h2>Game Admin</h2>
    </div>
    <div class="sidebar-menu">
      <button
        [ngClass]="{'active': activeTab === 'reportes'}"
        (click)="setActiveTab('reportes')"
      >
        Reportes
      </button>
      <button
        [ngClass]="{'active': activeTab === 'preguntas'}"
        (click)="setActiveTab('preguntas')"
      >
        Preguntas
      </button>
    </div>
    <div class="sidebar-footer">
      <button class="logout-btn" (click)="logout()">Cerrar Sesión</button>
    </div>
  </div>

  <!-- Contenido principal -->
  <div class="content">
    <!-- Sección de Reportes -->
    <div *ngIf="activeTab === 'reportes'" class="reportes-section">
      <header class="header">
        <h1>Game Admin Center - Reportes</h1>
      </header>

      <!-- Buscador -->
      <div class="search-container">
        <input
          type="text"
          [(ngModel)]="searchTerm"
          (input)="filterJugadores()"
          placeholder="Buscar jugador por nombre..."
          class="search-input"
        />
      </div>

      <!-- Lista de Jugadores -->
      <div class="players-container">
        <div *ngFor="let jugador of filteredJugadores; let i = index" class="player-card">
          <h2 class="player-name">{{ jugador.nombrePerfil }}</h2>
          <div class="partidas-container">
            <div *ngIf="jugador.partidas.length > 0; else noPartidas">
              <table class="nested-table" [ngClass]="getColorClass(i)">
                <thead>
                  <tr>
                    <th>ID Partida</th>
                    <th>Personaje</th>
                    <th>Fecha Inicio</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let partida of jugador.partidas" (click)="goToPartidaDetail(partida)" class="clickable-row">
                    <td>{{ partida.idPartida }}</td>
                    <td>{{ partida.personaje }}</td>
                    <td>{{ partida.fechaInicio | date:'medium' }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <ng-template #noPartidas>
              <p>No hay partidas.</p>
            </ng-template>
          </div>
        </div>
      </div>
    </div>

    <!-- Sección de Preguntas -->
    <div *ngIf="activeTab === 'preguntas'" class="preguntas-section">
      <app-preguntas></app-preguntas>
    </div>
  </div>
</div>